{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
Planning Document
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static "global/custom_theme.css" %}">
{% endblock %}

{% block content %}
<script>


function textCounter(field, maxLength)
{
var countfield = document.getElementById('counter')
var words = field.value.split(" ");
 if (words.length> maxLength ) {
  countfield.innerHTML = "Words Left: 0";
  document.getElementById("clocked").style.display="block";
  return false;
 } else {
  countfield.innerHTML = "Words Left: " + (maxLength - words.length).toString();
 }
}

</script>

<div style="text-align:left">
Write about how you will approach this negotiation. You might consider things like the relative importance of issues, your emotions. and strategies for getting to your desired outcome. <i>Be sure to include your reservation and target outcomes for each issue.</i>
<br><br>You have {{ Constants.planning_doc_time_minutes }} minutes to complete this planning statement. The next button will appear once {{ max_word_limit }} words have been entered. Note that the text will be <strong>saved</strong> even if the page times out.</div><br>

<div style="width:100%"> <textarea name="planning_text" cols=150 rows=10 required="" id="id_planning_text" class="form-control" onkeyup="textCounter(this, {{ max_word_limit }});" id="message" style="max-width:100%">
</textarea></div>
    <div id="counter"><h5>Words Left: {{ max_word_limit }} </h5></div>

<br>
    View the case materials:<br>
    <a target="_blank" rel="noopener noreferrer" href="{% static pdf_file %}">PDF</a><br>
    <a target="_blank" rel="noopener noreferrer" href="{% static xlsx_file %}">Point system spreadsheet</a><br>
  <div id="clocked" style="display:none;margin-left:90%">
        {% next_button %}
  </div>

{% endblock %}
